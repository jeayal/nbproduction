/* eslint-disable @typescript-eslint/no-explicit-any */
"use client";
import Backdrop from "@mui/material/Backdrop";
import Box from "@mui/material/Box";
// import Button from "@mui/material/Button";
import Fade from "@mui/material/Fade";
import Modal from "@mui/material/Modal";
import ServiceRow from "./serviceRow";
import Socials from "./socials";
import * as React from "react";
import { siteConfig } from "@/constant/config";
// import MenuModal from "./menuModal";

export default function NavBarDropdownV2() {
  const [open, setOpen] = React.useState(false);
  const handleOpen = () => setOpen(true);
  const handleClose = () => setOpen(false);

  const navigation = [
    {
      title: "Agence",
      path: siteConfig.url,
    },
    { title: "Services", path: "/#services" },
    { title: "Projets", path: "/#portfolio" },
    { title: "Contact", path: "/contact" },
  ];

  return (
    <>
      <div className="fixed top-0 z-50 m-auto w-full overflow-hidden drop-shadow-lg transition">
        <nav
          className={`layout z-50 mt-6 rounded-full border-[1px] border-solid border-neutral-300 bg-neutral-100 md:static md:text-sm dark:border-neutral-800 dark:bg-black
          ${open ? "rounded-2xl pb-6 shadow-lg md:shadow-none" : ""}
          `}
        >
          <div className="mx-auto max-w-screen-xl items-center gap-x-14 px-8 md:flex md:justify-between md:px-10">
            <div className="flex items-center justify-between py-3  md:block md:py-5">
              {/* LOGO */}
              <a href={siteConfig.url} aria-label="Accéder à l'accueil du site">
                <svg
                  width="133"
                  height="20"
                  viewBox="0 0 200 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clipPath="url(#clip0_183_3)">
                    <mask
                      id="mask0_183_3"
                      maskUnits="userSpaceOnUse"
                      x="0"
                      y="0"
                      width="200"
                      height="30"
                    >
                      <path d="M200 0H0V29.6029H200V0Z" fill="white" />
                    </mask>
                    <g mask="url(#mask0_183_3)">
                      <path
                        d="M1.27241 18.4621H13.9591C14.5103 18.4621 14.9441 18.3834 15.2622 18.2277C15.5802 18.072 15.7385 17.8577 15.7385 17.5865C15.7385 17.3153 15.5802 17.106 15.2622 16.9604C14.9441 16.8148 14.5103 16.7411 13.9591 16.7411H7.18539C4.98077 16.7411 3.23207 16.2406 1.93924 15.2394C0.646413 14.2383 0 12.8823 0 11.1714C0 9.46049 0.646413 8.10949 1.93924 7.11844C3.23207 6.12737 4.98077 5.63184 7.18539 5.63184H21.0816V10.326H9.09401C8.54286 10.326 8.10909 10.3996 7.79099 10.5453C7.47287 10.6909 7.31469 10.9002 7.31469 11.1714C7.31469 11.4426 7.47799 11.6569 7.80801 11.8126C8.13631 11.9683 8.56499 12.047 9.09572 12.047H15.5496C17.7542 12.047 19.503 12.5425 20.7958 13.5335C22.0886 14.5246 22.735 15.8756 22.735 17.5865C22.735 19.2974 22.0886 20.6534 20.7958 21.6546C19.503 22.6556 17.7542 23.1562 15.5496 23.1562H1.27241V18.4621Z"
                        fill="currentColor"
                      />
                      <path
                        d="M28.1396 0H33.8639V17.5227H35.7723V15.9574C35.7723 13.746 36.1638 11.8275 36.9496 10.2002C37.7339 8.57301 38.8565 7.32081 40.3194 6.44524C41.7823 5.56971 43.4986 5.1311 45.4702 5.1311C47.4417 5.1311 49.1584 5.56971 50.6213 6.44524C52.0841 7.32081 53.2068 8.57301 53.9911 10.2002C54.7752 11.8275 55.1683 13.7476 55.1683 15.9574V23.1543H49.444V15.6444C49.444 14.0389 49.0884 12.77 48.3792 11.8425C47.6682 10.9151 46.6984 10.4497 45.4702 10.4497C44.242 10.4497 43.2708 10.9134 42.5615 11.8425C41.8503 12.7716 41.4966 14.0389 41.4966 15.6444V23.1543H28.1413V0H28.1396Z"
                        fill="currentColor"
                      />
                      <path
                        d="M83.1289 5.63308H88.8532V17.5224H90.7616V15.9572C90.7616 13.7457 91.1531 11.8272 91.9389 10.2C92.7232 8.57276 93.8458 7.32056 95.3087 6.445C96.7716 5.56947 98.4882 5.13086 100.46 5.13086C102.431 5.13086 104.148 5.56947 105.611 6.445C107.073 7.32056 108.196 8.57276 108.98 10.2C109.764 11.8272 110.158 13.7474 110.158 15.9572H104.433C104.433 14.2262 104.078 12.8752 103.368 11.9042C102.658 10.9349 101.688 10.4494 100.46 10.4494C99.2313 10.4494 98.2601 10.9132 97.5508 11.8423C96.8399 12.7714 96.486 14.0387 96.486 15.6441V23.154H83.1306V5.63308H83.1289Z"
                        fill="currentColor"
                      />
                      <path
                        d="M122.604 22.7171C121.236 22.1128 120.182 21.2356 119.44 20.0888C118.698 18.9421 118.327 17.586 118.327 16.0208V15.614H113.653V10.4511H118.327V1.25195H124.052V5.63306H136.483V10.796H124.052V15.3026C124.052 16.2836 124.358 17.0822 124.974 17.6965C125.588 18.3126 126.404 18.619 127.422 18.619C128.439 18.619 129.25 18.3109 129.854 17.6965C130.458 17.0822 130.761 16.2836 130.761 15.3026H136.485C136.485 17.8891 135.706 19.9231 134.148 21.4047C132.589 22.8862 130.347 23.6262 127.423 23.6262C125.579 23.6262 123.973 23.3232 122.606 22.7188L122.604 22.7171Z"
                        fill="currentColor"
                      />
                      <path
                        d="M146.163 22.6086C144.796 21.9306 143.741 20.9663 142.999 19.7141C142.258 18.4619 141.887 16.992 141.887 15.3012V0H147.611V15.3012C147.611 16.324 147.914 17.1326 148.518 17.7269C149.121 18.3212 149.943 18.6192 150.983 18.6192C152.022 18.6192 152.811 18.3212 153.415 17.7269C154.019 17.1326 154.322 16.324 154.322 15.3012H160.046C160.046 16.9903 159.68 18.4619 158.949 19.7141C158.217 20.9663 157.168 21.9306 155.802 22.6086C154.434 23.2866 152.828 23.6264 150.984 23.6264C149.14 23.6264 147.535 23.2866 146.167 22.6086H146.163Z"
                        fill="currentColor"
                      />
                      <path
                        d="M174.591 28.6006C173.118 27.9326 171.968 27.0052 171.141 25.8149C170.314 24.6263 169.901 23.2803 169.901 21.7787H175.624C175.624 22.614 175.994 23.2904 176.736 23.8127C177.478 24.3333 178.432 24.5945 179.597 24.5945C180.762 24.5945 181.749 24.3333 182.491 23.8127C183.232 23.2904 183.603 22.6124 183.603 21.7787L183.571 11.2654H181.599V11.5785C181.599 13.2475 181.159 14.7241 180.279 16.0064C179.4 17.2888 178.223 18.2865 176.75 18.9947C175.277 19.7045 173.681 20.0594 171.964 20.0594C170.078 20.0594 168.404 19.6375 166.941 18.7921C165.478 17.9467 164.333 16.7631 163.507 15.2414C162.68 13.7196 162.267 11.9769 162.267 10.0149V5.63379H167.991V10.3279C167.991 11.6638 168.362 12.7587 169.103 13.6142C169.845 14.4696 170.799 14.8965 171.964 14.8965C173.13 14.8965 174.084 14.4696 174.826 13.6142C175.567 12.7587 175.938 11.6638 175.938 10.3279V5.63379H189.294L189.326 21.7803C189.326 23.282 188.912 24.628 188.086 25.8166C187.259 27.0052 186.104 27.9343 184.62 28.6023C183.137 29.2703 181.462 29.6034 179.597 29.6034C177.733 29.6034 176.062 29.2703 174.589 28.6023L174.591 28.6006Z"
                        fill="currentColor"
                      />
                      <path
                        d="M194.159 23.0555C193.556 22.5918 193.255 21.964 193.255 21.1738C193.255 20.3836 193.556 19.7559 194.159 19.2921C194.761 18.8284 195.581 18.5957 196.615 18.5957C197.649 18.5957 198.473 18.8284 199.083 19.2921C199.694 19.7559 199.998 20.3836 199.998 21.1738C199.998 21.964 199.694 22.5918 199.083 23.0555C198.473 23.5192 197.649 23.7519 196.615 23.7519C195.581 23.7519 194.761 23.5192 194.159 23.0555Z"
                        fill="#FF4D00"
                      />
                      <path
                        d="M69.3042 4.95025C68.7139 4.8833 69.3261 4.93184 68.7122 4.97035C63.3588 5.30014 59.2795 9.67455 59.6029 14.7404C59.9244 19.8062 64.5258 23.6465 69.8792 23.3167C75.2325 22.987 79.3286 19.2102 79.0055 14.1427H69.2957L69.3042 4.95025Z"
                        fill="currentColor"
                      />
                    </g>
                  </g>
                  <defs>
                    <clipPath id="clip0_183_3">
                      <rect width="200" height="29.6029" fill="currentColor" />
                    </clipPath>
                  </defs>
                </svg>
              </a>
              {/* END LOGO */}
              <div className="md:hidden">
                <button
                  className="hover:text-primary-400 text-neutral-900 transition dark:text-white"
                  onClick={handleOpen}
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    className="h-6 w-6"
                  >
                    <path
                      fillRule="evenodd"
                      d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm8.25 5.25a.75.75 0 01.75-.75h8.25a.75.75 0 010 1.5H12a.75.75 0 01-.75-.75z"
                      clipRule="evenodd"
                    />
                  </svg>
                </button>
              </div>
            </div>
            <div className=" hidden pb-3 md:mt-0 md:block md:pb-0 ">
              <ul className="hidden items-center  md:flex md:space-x-6 md:space-y-0">
                {navigation.map((item, idx) => {
                  return (
                    <li>
                      <a
                        href={item.path}
                        className="hover:text-primary-400 flex cursor-pointer text-xl md:justify-center md:text-base"
                        onClick={() => setOpen(false)}
                      >
                        {item.title}
                      </a>
                    </li>
                  );
                })}
                <li>
                  <a
                    href="/brief"
                    aria-label="Déposez un projet en cliquant ici"
                  >
                    <button className="grad   mx-auto flex w-full  rounded-full px-6 py-4 align-middle text-xl font-bold uppercase text-white transition hover:scale-105 hover:bg-white md:px-4 md:py-2 md:text-xs dark:hover:bg-white">
                      Déposer un projet
                    </button>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
      {/* <Button onClick={handleOpen}>Open modal</Button> */}
      <Modal
        aria-labelledby="transition-modal-title"
        aria-describedby="transition-modal-description"
        open={open}
        onClose={handleClose}
        closeAfterTransition
        slots={{ backdrop: Backdrop }}
        slotProps={{
          backdrop: {
            timeout: 500,
          },
        }}
      >
        <Fade in={open}>
          <Box className="absolute left-1/2 top-1/2 flex h-full w-full -translate-x-1/2 -translate-y-1/2">
            <div className="dark:bg-dark flex w-full flex-col bg-white p-8">
              <div className="layout mb-8 mt-2 flex flex-row justify-between ">
                <a
                  href={siteConfig.url}
                  aria-label="Accéder à l'accueil du site"
                >
                  <svg
                    width="133"
                    height="20"
                    viewBox="0 0 200 30"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    className="transition"
                  >
                    <g clipPath="url(#clip0_183_3)">
                      <mask
                        id="mask0_183_3"
                        maskUnits="userSpaceOnUse"
                        x="0"
                        y="0"
                        width="200"
                        height="30"
                      >
                        <path d="M200 0H0V29.6029H200V0Z" fill="white" />
                      </mask>
                      <g mask="url(#mask0_183_3)">
                        <path
                          d="M1.27241 18.4621H13.9591C14.5103 18.4621 14.9441 18.3834 15.2622 18.2277C15.5802 18.072 15.7385 17.8577 15.7385 17.5865C15.7385 17.3153 15.5802 17.106 15.2622 16.9604C14.9441 16.8148 14.5103 16.7411 13.9591 16.7411H7.18539C4.98077 16.7411 3.23207 16.2406 1.93924 15.2394C0.646413 14.2383 0 12.8823 0 11.1714C0 9.46049 0.646413 8.10949 1.93924 7.11844C3.23207 6.12737 4.98077 5.63184 7.18539 5.63184H21.0816V10.326H9.09401C8.54286 10.326 8.10909 10.3996 7.79099 10.5453C7.47287 10.6909 7.31469 10.9002 7.31469 11.1714C7.31469 11.4426 7.47799 11.6569 7.80801 11.8126C8.13631 11.9683 8.56499 12.047 9.09572 12.047H15.5496C17.7542 12.047 19.503 12.5425 20.7958 13.5335C22.0886 14.5246 22.735 15.8756 22.735 17.5865C22.735 19.2974 22.0886 20.6534 20.7958 21.6546C19.503 22.6556 17.7542 23.1562 15.5496 23.1562H1.27241V18.4621Z"
                          fill="currentColor"
                        />
                        <path
                          d="M28.1396 0H33.8639V17.5227H35.7723V15.9574C35.7723 13.746 36.1638 11.8275 36.9496 10.2002C37.7339 8.57301 38.8565 7.32081 40.3194 6.44524C41.7823 5.56971 43.4986 5.1311 45.4702 5.1311C47.4417 5.1311 49.1584 5.56971 50.6213 6.44524C52.0841 7.32081 53.2068 8.57301 53.9911 10.2002C54.7752 11.8275 55.1683 13.7476 55.1683 15.9574V23.1543H49.444V15.6444C49.444 14.0389 49.0884 12.77 48.3792 11.8425C47.6682 10.9151 46.6984 10.4497 45.4702 10.4497C44.242 10.4497 43.2708 10.9134 42.5615 11.8425C41.8503 12.7716 41.4966 14.0389 41.4966 15.6444V23.1543H28.1413V0H28.1396Z"
                          fill="currentColor"
                        />
                        <path
                          d="M83.1289 5.63308H88.8532V17.5224H90.7616V15.9572C90.7616 13.7457 91.1531 11.8272 91.9389 10.2C92.7232 8.57276 93.8458 7.32056 95.3087 6.445C96.7716 5.56947 98.4882 5.13086 100.46 5.13086C102.431 5.13086 104.148 5.56947 105.611 6.445C107.073 7.32056 108.196 8.57276 108.98 10.2C109.764 11.8272 110.158 13.7474 110.158 15.9572H104.433C104.433 14.2262 104.078 12.8752 103.368 11.9042C102.658 10.9349 101.688 10.4494 100.46 10.4494C99.2313 10.4494 98.2601 10.9132 97.5508 11.8423C96.8399 12.7714 96.486 14.0387 96.486 15.6441V23.154H83.1306V5.63308H83.1289Z"
                          fill="currentColor"
                        />
                        <path
                          d="M122.604 22.7171C121.236 22.1128 120.182 21.2356 119.44 20.0888C118.698 18.9421 118.327 17.586 118.327 16.0208V15.614H113.653V10.4511H118.327V1.25195H124.052V5.63306H136.483V10.796H124.052V15.3026C124.052 16.2836 124.358 17.0822 124.974 17.6965C125.588 18.3126 126.404 18.619 127.422 18.619C128.439 18.619 129.25 18.3109 129.854 17.6965C130.458 17.0822 130.761 16.2836 130.761 15.3026H136.485C136.485 17.8891 135.706 19.9231 134.148 21.4047C132.589 22.8862 130.347 23.6262 127.423 23.6262C125.579 23.6262 123.973 23.3232 122.606 22.7188L122.604 22.7171Z"
                          fill="currentColor"
                        />
                        <path
                          d="M146.163 22.6086C144.796 21.9306 143.741 20.9663 142.999 19.7141C142.258 18.4619 141.887 16.992 141.887 15.3012V0H147.611V15.3012C147.611 16.324 147.914 17.1326 148.518 17.7269C149.121 18.3212 149.943 18.6192 150.983 18.6192C152.022 18.6192 152.811 18.3212 153.415 17.7269C154.019 17.1326 154.322 16.324 154.322 15.3012H160.046C160.046 16.9903 159.68 18.4619 158.949 19.7141C158.217 20.9663 157.168 21.9306 155.802 22.6086C154.434 23.2866 152.828 23.6264 150.984 23.6264C149.14 23.6264 147.535 23.2866 146.167 22.6086H146.163Z"
                          fill="currentColor"
                        />
                        <path
                          d="M174.591 28.6006C173.118 27.9326 171.968 27.0052 171.141 25.8149C170.314 24.6263 169.901 23.2803 169.901 21.7787H175.624C175.624 22.614 175.994 23.2904 176.736 23.8127C177.478 24.3333 178.432 24.5945 179.597 24.5945C180.762 24.5945 181.749 24.3333 182.491 23.8127C183.232 23.2904 183.603 22.6124 183.603 21.7787L183.571 11.2654H181.599V11.5785C181.599 13.2475 181.159 14.7241 180.279 16.0064C179.4 17.2888 178.223 18.2865 176.75 18.9947C175.277 19.7045 173.681 20.0594 171.964 20.0594C170.078 20.0594 168.404 19.6375 166.941 18.7921C165.478 17.9467 164.333 16.7631 163.507 15.2414C162.68 13.7196 162.267 11.9769 162.267 10.0149V5.63379H167.991V10.3279C167.991 11.6638 168.362 12.7587 169.103 13.6142C169.845 14.4696 170.799 14.8965 171.964 14.8965C173.13 14.8965 174.084 14.4696 174.826 13.6142C175.567 12.7587 175.938 11.6638 175.938 10.3279V5.63379H189.294L189.326 21.7803C189.326 23.282 188.912 24.628 188.086 25.8166C187.259 27.0052 186.104 27.9343 184.62 28.6023C183.137 29.2703 181.462 29.6034 179.597 29.6034C177.733 29.6034 176.062 29.2703 174.589 28.6023L174.591 28.6006Z"
                          fill="currentColor"
                        />
                        <path
                          d="M194.159 23.0555C193.556 22.5918 193.255 21.964 193.255 21.1738C193.255 20.3836 193.556 19.7559 194.159 19.2921C194.761 18.8284 195.581 18.5957 196.615 18.5957C197.649 18.5957 198.473 18.8284 199.083 19.2921C199.694 19.7559 199.998 20.3836 199.998 21.1738C199.998 21.964 199.694 22.5918 199.083 23.0555C198.473 23.5192 197.649 23.7519 196.615 23.7519C195.581 23.7519 194.761 23.5192 194.159 23.0555Z"
                          fill="#FF4D00"
                        />
                        <path
                          d="M69.3042 4.95025C68.7139 4.8833 69.3261 4.93184 68.7122 4.97035C63.3588 5.30014 59.2795 9.67455 59.6029 14.7404C59.9244 19.8062 64.5258 23.6465 69.8792 23.3167C75.2325 22.987 79.3286 19.2102 79.0055 14.1427H69.2957L69.3042 4.95025Z"
                          fill="currentColor"
                        />
                      </g>
                    </g>
                    <defs>
                      <clipPath id="clip0_183_3">
                        <rect
                          width="200"
                          height="29.6029"
                          fill="currentColor"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </a>
                <button onClick={handleClose}>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    className="h-6 w-6"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      fillRule="evenodd"
                      d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                      clipRule="evenodd"
                    />
                  </svg>
                </button>
              </div>
              <div className="flex w-full flex-col py-3">
                <a href="/" onClick={handleClose}>
                  <ServiceRow title="Accueil" url={siteConfig.url} small />
                </a>
                <ServiceRow
                  title="Notre offre"
                  url="/#services"
                  small
                  onClick={handleClose}
                />
                <ServiceRow
                  title="Nos réalisations"
                  url="/#portfolio"
                  small
                  onClick={handleClose}
                />
                <ServiceRow
                  title="Contact"
                  url="/contact"
                  small
                  onClick={handleClose}
                />
                <a href="/brief" aria-label="Déposez un projet en cliquant ici">
                  <button className="grad mx-auto my-6 flex w-full justify-center rounded-full px-6 py-4 align-middle text-xl font-bold uppercase text-white transition hover:scale-105 hover:bg-white md:px-4 md:py-2 md:text-xs dark:hover:bg-white">
                    Déposer un projet
                  </button>
                </a>
                <div className="flex items-center justify-center">
                  <Socials size="24px" lk ig tw fb yt vi />
                </div>
              </div>
            </div>
          </Box>
        </Fade>
      </Modal>
      {/* BLUR QUAND MOBILE open IS ACTIVE */}
      {open ? (
        <div
          className="fixed top-0 z-20 h-screen w-screen bg-black/20 backdrop-blur-sm transition md:hidden"
          onClick={() => setOpen(false)}
        ></div>
      ) : (
        ""
      )}
    </>
  );
}
